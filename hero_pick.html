<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8">
	<title>hero_pick</title>
	
	<script src="http://d3js.org/d3.v3.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
	
	<style type="text/css" media="screen">
		body {
		  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
		  margin: auto;
		  position: relative;
		  width: 960px;
		}
	</style>
	<!-- Data is here. -->
	<script type="text/javascript" src="hero_picks.js"></script>
	<script type="text/javascript" src="hero_colors.js"></script>
	
	<!-- rendering is here. -->
	<script type="text/javascript" charset="utf-8">
		var numWeeks = 22;
		var width = 1000;
		var height = 500;
		
		var showNormalized = true;
		
		$("document").ready(function() {
			
			generateNormalizedStack();
			
		});
		
		
		function generateNormalizedStack() {
			var svg = d3.select("body").append("svg")
				.attr("width", width)
				.attr("height", height);
				
				var x = d3.scale.linear()
				    .domain([0, numWeeks - 1])
				    .range([0, width]);

				var y = d3.scale.linear()
				    .domain([0, 1])
				    .range([height, 0]);

				var color = d3.scale.linear()
				    .range(["#aad", "#556"]);
						
				var area = d3.svg.area()
				    .x(function(d) { return x(d.x); })
				    .y0(function(d) { return y(d.y0); })
				    .y1(function(d) { return y(d.y0 + d.y); });
				
			var stack = d3.layout.stack()
				.offset("expand")
				.order("inside-out")
				.values(function(d) { return d.values;});
			
			var layers = stack(heroes);
			
			svg.selectAll("path")
				.data(layers)
				.enter().append("path")
					.attr("d", function(d) { return area(d.values)})
					.style("fill", function(d) {
						console.log(d.heroName + ": " + JSON.stringify(colors[d.heroName]));
						return colors[d.heroName].colors[0];
					})
					.append("title")
					    .text(function(d) { return d.heroName; });
		}
	</script>
</head>
<body id="hero_pick" onload="">
</body>
</html>